# Poetry — шпаргалка по управлению зависимостями

Poetry — современный инструмент для управления зависимостями и виртуальными окружениями Python-проектов.  
Он заменяет `pip`, `venv` и `requirements.txt` одной командой.

---

## Установка Poetry

### Через pipx (рекомендуется)
```bash
pipx install poetry
```

Проверить установку:
```bash
poetry --version
```

---

## Создание проекта

```bash
poetry new my_project
```
или инициализация в существующей папке:
```bash
poetry init
```

---

## Установка зависимостей

```bash
poetry install
```
Устанавливает зависимости, указанные в `pyproject.toml` и зафиксированные в `poetry.lock`.

---

## Добавление зависимостей

```bash
poetry add requests
```
Добавить пакет в зависимости.

---

## Удаление зависимостей

```bash
poetry remove requests
```
Удалить пакет и из виртуального окружения, и из `pyproject.toml`.

---

## Обновление зависимостей

```bash
poetry update
```
Обновить все зависимости.

```bash
poetry update requests
```
Обновить конкретный пакет.

---

## Просмотр зависимостей

```bash
poetry show
```
Показать все установленные пакеты.

```bash
poetry show --tree
```
Показать дерево зависимостей.

---

## Проверка конкретного пакета

```bash
poetry show requests
```
Показать подробности пакета — версию, описание, зависимости.

---

## Очистка и пересоздание окружения

```bash
poetry env remove python
poetry install
```
Удалить текущее окружение и установить зависимости заново.

---

## Полезные команды

| Команда | Описание |
|----------|-----------|
| `poetry shell` | Войти в виртуальное окружение (аналог `source venv/bin/activate`) |
| `poetry run python app.py` | Запустить скрипт внутри окружения |
| `poetry lock` | Пересоздать `poetry.lock` без обновления |
| `poetry env info` | Показать информацию о текущем виртуальном окружении |
| `poetry env list` | Список виртуальных окружений проекта |

---

## Основные файлы проекта

| Файл | Назначение |
|------|-------------|
| `pyproject.toml` | Описание проекта и его зависимостей |
| `poetry.lock` | Зафиксированные версии всех установленных пакетов |

---

> **Совет:** держи `poetry.lock` в репозитории, чтобы все участники проекта использовали одни и те же версии библиотек.
>
> **Полезно:** при смене Python-версии можно пересоздать окружение:
> ```bash
> poetry env use python3.13
> poetry install
> ```

---

** Документация:**  
[https://python-poetry.org/docs/](https://python-poetry.org/docs/)
